module multiplier16 (
    input x[16],
    input y[16],
    input alufn[6],
    output s[16]
  ) {

  always {
    // multiplies (x*y) or modulos (x%y) according to alufn[0]
    case (alufn[0]) {
      b0:
        s = x * y;

      b1:
        if (y != 0) { // avoid dividing by zero
          s = x - ((x / y) * y);
        }

        else {
          s = x;
        }

      default:
        s = 16b0;
    }
  }
}
